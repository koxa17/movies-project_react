{"version":3,"sources":["layout/Header.jsx","components/ClearList.jsx","components/Loader.jsx","purejs.js","components/Genre.jsx","components/Movie.jsx","components/Movies.jsx","components/Search.jsx","layout/Main.jsx","App.js","index.js"],"names":["Header","className","href","type","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","id","ClearList","props","message","Loader","role","getLinkWithParametrs","values","url","params","prop","Object","hasOwnProperty","call","value","replace","toLowerCase","trim","param","push","join","Genres","genres","map","genre","i","Movie","text","title","year","poster","medium_cover_image","description","description_full","src","alt","length","slice","Movies","movies","movie","clearForm","document","getElementById","reset","Search","state","valuesForm","handlerForm","e","searchTerm","target","parameter","dataset","setState","handlerSubmit","preventDefault","validateInputSearch","console","log","searchingMovies","clearState","input","querySelector","placeholder","aria-describedby","onChange","this","onKeyDown","key","data-param","onClick","Component","Main","loading","messageError","getUrlTerm","fetch","then","response","json","data","catch","err","error","finally","App","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.f4448e04.chunk.js","sourcesContent":["import React from 'react'\n\nexport default function Header() {\n  return (\n    <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n      <div className=\"container-fluid\">\n        <a className=\"navbar-brand\" href=\"!#\">\n          React Movie App\n        </a>\n        <button\n          className=\"navbar-toggler\"\n          type=\"button\"\n          data-bs-toggle=\"collapse\"\n          data-bs-target=\"#navbarSupportedContent\"\n          aria-controls=\"navbarSupportedContent\"\n          aria-expanded=\"false\"\n          aria-label=\"Toggle navigation\">\n          <span className=\"navbar-toggler-icon\"></span>\n        </button>\n        <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n          <ul className=\"navbar-nav me-auto mb-2 mb-lg-0 pt-3 align-items-center\">\n            <li className=\"nav-item\">\n              <a className=\"nav-link\" href=\"!#\">\n                Repo\n              </a>\n            </li>\n            <li className=\"nav-item\">\n              <a className=\"nav-link\" href=\"!#\">\n                Sing In\n              </a>\n            </li>\n            <li className=\"nav-item\">\n              <a className=\"nav-link\" href=\"!#\">\n                Log In\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </nav>\n  )\n}\n","import React from 'react'\n\nexport default function ClearList(props) {\n  const {message} = props\n  return (\n    <div className=\"clear-movies\">\n      <h1>{message ? message : 'Ничего не найдено =('}</h1>\n    </div>\n  )\n}\n","import React from 'react'\n\nexport default function Loader() {\n  return (\n    <div className=\"wrapper-loading\">\n      <div className=\"spinner-border text-success loader\" role=\"status\">\n        <span className=\"visually-hidden\">Loading...</span>\n      </div>\n    </div>\n  )\n}\n","function cropText(text) {\n    if (text.length > 79) {\n        text = text.slice(0, 80) + '...'\n    }\n    return text\n}\n\nfunction getLinkWithParametrs(values, url = 'https://yts.mx/api/v2/list_movies.json') {\n    const params = []\n    let textParam\n\n    for (const prop in values) {\n        if (Object.hasOwnProperty.call(values, prop)) {\n            let value = values[prop];\n\n            if (prop === \"query_term\") {\n                value = value.replace(/\\s+/g, '_').toLowerCase().trim()\n            } \n\n            const param = `${prop}=${value}`\n\n            params.push(param)\n\n        }\n    }\n\n    textParam = params.join('&')\n\n    return url + '?' + textParam\n}\n\nexport { cropText, getLinkWithParametrs }","import React from 'react'\n\nexport default function Genres(props) {\n  const {genres} = props\n  return genres.map((genre, i) => {\n    if (i < 3) {\n      return <span key={`${i}_${genre}`}>{genre}</span>\n    }\n    return null\n  })\n}\n","import React from 'react'\nimport {cropText} from '../purejs'\nimport Genres from './Genre'\n\nexport default function Movie(props) {\n  const {\n    title,\n    year,\n    medium_cover_image: poster,\n    genres,\n    description_full: description,\n    id,\n  } = props\n  return (\n    <div className=\"card bg-dark bg-gradient text-light\" id={id}>\n      <img src={poster} className=\"card-img-top\" alt={title} />\n      <div className=\"card-body d-flex flex-column\">\n        <div className=\"wrapper_title\">\n          <h5 className=\"card-title\">{title}</h5>\n          <span className=\"text-muted info-font-size\">{year}</span>\n        </div>\n        <div className=\"genre text-muted info-font-size genres\">\n          <Genres genres={genres} />\n        </div>\n        <p className=\"card-text description\">{cropText(description)}</p>\n        <a href=\"!#\" className=\"card-link more-link\">\n          More...\n        </a>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport Movie from './Movie'\n\nexport default function Movies(props) {\n  const {movies} = props\n  return (\n    <div className=\"movies\">\n      {movies.map(movie => {\n        return <Movie key={movie.id} {...movie} />\n      })}\n    </div>\n  )\n}\n","import React, {Component} from 'react'\n\nfunction clearForm() {\n  // Находим форму\n  const form = document.getElementById('form-searching')\n  // Очищаем форму\n  form.reset()\n}\n\nexport default class Search extends Component {\n  state = {\n    valuesForm: '',\n  }\n\n  // Обработчик формы\n  handlerForm = e => {\n    // Значение инпута\n    const searchTerm = e.target.value\n    // тип параметра для поиска\n    const parameter = e.target.dataset.param\n\n    // Сохраняем значение инпута в состояние\n    this.setState(state => ({\n      valuesForm: {\n        [parameter]: searchTerm,\n      },\n    }))\n  }\n\n  // Обрабочик отправки формы\n  handlerSubmit = e => {\n    // Отменяем перезагрузку\n    e.preventDefault()\n\n    if (this.validateInputSearch(e)) {\n      // Передаем весь state в фунцию для поиска\n      this.props.searchingMovies(this.state.valuesForm)\n      // Очищаем форму\n      clearForm(e.target)\n      this.clearState()\n    } else {\n      console.log('Input not valid!')\n      return false\n    }\n  }\n\n  // Очистка состояния\n  clearState = () => {\n    this.setState({\n      valuesForm: '',\n    })\n  }\n\n  // Валидация инпута для поиска\n  validateInputSearch = e => {\n    // Находим инпут, берем значение\n    const input = document.querySelector('input[type=\"search\"]').value\n    // Проверяем что поле не пустое\n    if (input.length < 1 || input.length === '') {\n      clearForm()\n      return false\n    } else {\n      return true\n    }\n  }\n\n  render() {\n    return (\n      <form id=\"form-searching\">\n        <div className=\"input-group mb-4\">\n          <input\n            type=\"search\"\n            className=\"form-control search-input\"\n            placeholder=\"Search\"\n            aria-label=\"Serching movies\"\n            aria-describedby=\"button-addon2\"\n            onChange={this.handlerForm}\n            onKeyDown={e => {\n              // Проверяем что был нажат \"Enter\"\n              if (e.key === 'Enter') {\n                this.handlerSubmit(e)\n              }\n            }}\n            data-param=\"query_term\"\n          />\n          <button\n            className=\"btn btn-success\"\n            type=\"button\"\n            id=\"button-addon2\"\n            onClick={this.handlerSubmit}>\n            Button\n          </button>\n        </div>\n      </form>\n    )\n  }\n}\n","import React, {Component} from 'react'\nimport ClearList from '../components/ClearList'\nimport Loader from '../components/Loader'\nimport Movies from '../components/Movies'\nimport Search from '../components/Search'\nimport {getLinkWithParametrs} from '../purejs'\n\nexport default class Main extends Component {\n  state = {\n    movies: [],\n    loading: true,\n    messageError: '',\n  }\n\n  componentDidMount() {\n    // Запрос на сервер\n    fetch('https://yts.mx/api/v2/list_movies.json')\n      // Ковертируем в формат json\n      .then(response => response.json())\n      // Полученые запрос сохраняем в state\n      .then(data =>\n        this.setState({\n          movies: data.data.movies,\n        })\n      )\n      .catch(err => {\n        this.setState({\n          messageError: 'Упс что-то пошло не так =(',\n        })\n        console.error(err)\n      })\n      // Отключаем preloader\n      .finally(() => {\n        this.setState({\n          loading: false,\n        })\n      })\n  }\n\n  // Поиск фильмов\n  searchingMovies = value => {\n    // Получаем сформированую ссылку с параметрами поиска\n    const getUrlTerm = getLinkWithParametrs(value)\n\n    // Включаем анимацию загрузки\n    this.setState({\n      loading: true,\n    })\n\n    // Делаем запрос на сервер\n    fetch(getUrlTerm)\n      .then(response => response.json())\n      .then(data => {\n        console.log(data)\n        return this.setState({\n          movies: data.data.movies,\n        })\n      })\n      .catch(err => {\n        this.setState({\n          messageError: 'Упс что-то пошло не так =(',\n        })\n        console.error(err)\n      })\n      .finally(() => this.setState({loading: false}))\n  }\n\n  render() {\n    const {movies, loading, messageError} = this.state\n    return (\n      <div className=\"container\">\n        <div className=\"content pt-3\">\n          <Search searchingMovies={this.searchingMovies} />\n          {loading ? (\n            <Loader />\n          ) : movies ? (\n            <Movies movies={movies} />\n          ) : (\n            <ClearList message={messageError} />\n          )}\n        </div>\n      </div>\n    )\n  }\n}\n","import React, { Component } from 'react'\nimport Header from './layout/Header'\nimport Main from './layout/Main'\n\nexport default class App extends Component {\n  render() {\n    return (\n        <div className=\"background\">\n          <Header/>\n          <Main />\n        </div>\n    )\n  }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}